{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://prism.proofspace.id/prism-credential-schema",
  "$comment": "TODO: get domain name in cardano ecosystem",
  
  "title": "PRISM Credential Schema Definition",
  "type": "object",
  "properties": {
     "name": "string",
     "version": "string",
     "id": "string",
     "publishTransaction": "string",
     "author": { "$ref":  "#/$defs/did" }
  },
  "$defs": {
     "trustRegistry": {
	 "oneOf": [
	    { "type": "object",
	      "properties": {
		  "type": "one-issuer" ,
		  "issuer": { "$ref": "#/$defs/did" }
	       }
	    },
	    { "type": "object", 
	      "properties": {
		  "type": "token-registry",
		  "token": { "$type": "string" }
	      }
	    }
	 ]
     },
     "field": {
	 "name":  {
            "type": "string"
	 },
	 "title": {
            "type": "string"
	 },
	 "description": {
            "type": "string"
	 },
	 "type": {
	    "oneOf": [
		{ "const": "string"},
		{ "const": "number"}
	    ]
	 }
     },
     "did": {
	"type": "string"
     }
  }  
}
